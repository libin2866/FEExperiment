<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    /**
     * 嵌套的数组整平
     */
    var arr = [1, [2, 3], [4, 5, 6, [7, 8, [9, 10]]], 11];
    function flatenArray(arr) {
//        var str = arr.toString();
//        var temp = str.split(',');
//        return temp;
        var newArr = [];
        arr.toString().split(',').forEach(function (e) {
           newArr.push( parseInt(e));
        });

        return newArr;
    }
    console.log(flatenArray(arr));
    console.log(arr.constructor == Array);
    console.log(arr instanceof Array);
    console.log(Object.prototype.toString.call(arr) == '[object Array]');

    var arrx = [1, 2, 3];
    console.log(arrx.splice(1, 0, 'a', 'b', 'c'));//[1,'a','b','c',0])
    console.log(arrx);
    //    删除:
    console.log(arrx.splice(1, 1))//[1,'b','c',0])
    console.log(arrx);

    //    ####slice
    //    裁剪字符串  array.slice(start,[end]);
    console.log(arrx.slice(1, 2))//['b','c'];
    console.log(arrx);

    function removeDuplicate(arr) {
        var obj = {}, newArr = [];
        for (var i = 0; i < arr.length; ++i) {
            if (!obj[arr[i]]) {
                obj[arr[i]] = 1;
                newArr.push(arr[i]);
            }
        }
        return newArr;
    }

    console.log(removeDuplicate([1, 2, 2, 3, 4, 5, 5, 6]));

    console.info('---------String-------');
    /**
     * 自己写的String 构造器;假设String()构造器不存在（所以也无法使用）
     */
    function myString(str) {
        var length = 0;
        ;
        var arr = [];
        for (var i in str) {
            length++;
            arr.push(str[i]);
        }
        this.value = arr;
        var that = this;
        this.length = length;
        return {
            value: this.value,
            length: this.length,
            toString: function () {
                return str + "";
            },
            valueOf: function () {
                return this.toString();
            },
            charAt: function (pos) {
                return this.value[i];
            },
            concat: function (str2) {
                return this.toString() + str2;
            },
            slice: function (start, end) {
                var str = "";
                for (var i = start; i <= end; ++i) {
                    str += this.value[i];
                }
                return str;
            },
            split: function (splitor) {
                var str = "";
                for (var i = 0; i < this.length; ++i) {
                    str = str + this.value[i] + splitor;
                }
                return str;
            },
            reverse: function () {
//                Array.prototype.reverse.call(this.split(','), 0);
                console.log(this.value);
               return  this.value.reverse().join('');
            }
        }
    }
    var ssr = new myString("hello");
    console.log(ssr.length);
    console.log(ssr.toString());
    console.log(ssr.valueOf());
    console.log(ssr.charAt(1));
    console.log(ssr.concat(" new"));
    console.log(ssr.slice(1, 3));
    console.log(ssr.split(','));
    console.log(ssr.reverse());

    var arr2 = [1, 2, 3, 4, 5, 6, 7, 8, 9];
    console.log(arr2.map(String)); // ['1', '2', '3', '4', '5', '6', '7', '8', '9']
    var arr3 = ['1', '2', '3', '4', '5', '6', '7', '8', '9'];
    console.log(arr3.map(Number));//


</script>
</body>
</html>